"use strict";var dayInput=document.querySelector("#day"),monthInput=document.querySelector("#month"),yearInput=document.querySelector("#year"),subBtn=document.querySelector(".submit"),inputs=document.querySelectorAll("input"),daysSpan=document.querySelector("#days"),monthsSpan=document.querySelector("#months"),yearsSpan=document.querySelector("#years"),dateDiff=function(t,e){var n=e.getFullYear()-t.getFullYear(),a=e.getMonth()-t.getMonth(),e=e.getDate()-t.getDate(),n=12*n+a,a=e;return e<0&&(n--,e=(t.getMonth()-1+12)%12,a+=(t=t.getFullYear(),new Date(t,e+1,0).getDate())),{years:Math.floor(n/12),months:n%=12,days:a}},countDate=function(){var t=validateInput(dayInput,dayInput,monthInput,yearInput),e=validateInput(monthInput,dayInput,monthInput,yearInput),n=validateInput(yearInput,dayInput,monthInput,yearInput);t&&e&&n&&(t=new Date(yearInput.value,monthInput.value-1,dayInput.value),e=new Date,n=dateDiff(t,e),daysSpan.textContent=n.days,monthsSpan.textContent=n.months,yearsSpan.textContent=n.years)},validateInput=function(t,e,n,a){function r(){o.classList.remove("error"),t.classList.remove("error"),s.textContent=""}var u,s=t.nextElementSibling,o=t.previousElementSibling,l=parseInt(t.getAttribute("min"),10),d=parseInt(t.getAttribute("max"),10),i=new Date,p=new Date(parseInt(a.value,10),parseInt(n.value,10)-1,parseInt(e.value,10));r();return""===t.value?(o.classList.add("error"),t.classList.add("error"),!(s.textContent="This field is required")):"year"===t.id&&(parseInt(t.value,10)>i.getFullYear()||parseInt(t.value,10)===i.getFullYear()&&(parseInt(n.value,10)>i.getMonth()+1||parseInt(n.value,10)===i.getMonth()+1&&parseInt(e.value,10)>i.getDate()))?(o.classList.add("error"),t.classList.add("error"),!(s.textContent="Must be in the past")):null!==l&&parseInt(t.value,10)<l||null!==d&&parseInt(t.value,10)>d?(o.classList.add("error"),t.classList.add("error"),s.textContent="Must be a valid ".concat(t.id),!1):p.getFullYear()!==parseInt(a.value,10)||p.getMonth()!==parseInt(n.value,10)-1||p.getDate()!==parseInt(e.value,10)?(u="Must be a valid date",[e,n,a].forEach(function(t){var e=t.previousElementSibling,n=t.nextElementSibling;e.classList.add("error"),t.classList.add("error"),"day"===t.id&&(n.textContent=u)}),!1):(r(),!0)},enterCheck=function(t){"Enter"===t.key&&countDate()};subBtn.addEventListener("click",countDate),inputs.forEach(function(t){return t.addEventListener("keyup",enterCheck)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZGF5SW5wdXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtb250aElucHV0IiwieWVhcklucHV0IiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0cyIsImRheXNTcGFuIiwibW9udGhzU3BhbiIsImRhdGVEaWZmIiwiZGF0ZTEiLCJkYXRlMiIsImdldEZ1bGxZZWFyIiwieWVhcnMiLCJnZXRNb250aCIsIm1vbnRocyIsImdldERhdGUiLCJhZGp1c3RlZE1vbnRocyIsImFkanVzdGVkRGF5cyIsImRheXMiLCJwcmV2TW9udGgiLCJ5ZWFyIiwiZGF5c0luTW9udGgiLCJtb250aCIsIk1hdGgiLCJmbG9vciIsImNvdW50RGF0ZSIsInZhbGlkYXRlSW5wdXQiLCJpc0RheVZhbGlkIiwiaXNNb250aFZhbGlkIiwiaXNZZWFyVmFsaWQiLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJ2YWx1ZSIsImRpZmYiLCJpbnB1dERhdGUiLCJ0ZXh0Q29udGVudCIsInllYXJzU3BhbiIsIm1pblZhbHVlIiwicGFyc2VJbnQiLCJpbnB1dCIsImdldEF0dHJpYnV0ZSIsImxhYmVsRWxlbWVudCIsImNsZWFyRXJyb3IiLCJlcnJvckVsZW1lbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJlcnJvck1lc3NhZ2UiLCJtYXhWYWx1ZSIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJhZGQiLCJhZGRFcnJvclRvQWxsSW5wdXRzIiwiZW50ZXJDaGVjayIsImtleSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdWJCdG4iLCJjb25jYXQiLCJpZCIsImZvckVhY2giLCJlIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxTQUFXQyxTQUFTQyxjQUFjLE1BQU0sRUFDeENDLFdBQWFGLFNBQVNDLGNBQWMsUUFBUSxFQUQ1Q0YsVUFBV0MsU0FBU0MsY0FBYyxPQUFPLEVBQ3pDQyxPQUFVRixTQUFHQSxjQUFTQyxTQUFjLEVBQ3BD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QkNQLEVBeUJXUixZQUFBLHdCQUlObUIsT0FBUEMsR0FBd0JqQixTQUFTYixFQUFBQSxNQUFVLEVBQUEsRUFBQVksR0FDNUIsT0FBZmhDLEdBQWVpQyxTQUFNQyxFQUFBUCxNQUFBLEVBQUEsRUFBQWdCLEdBQWlEUCxFQUFBSyxVQUFBSSxJQUFBLE9BQUEsRUF2QnBFWCxFQUFNTyxVQUFVSSxJQUFJLE9BQU8sRUFDM0JQLEVBQWFSLFlBQVcsbUJBQUFxQixPQUFzQmpCLEVBQU1rQixFQUFFLEVBQy9DLENBQUEsR0FFUHZCLEVBQVV2QixZQUFXLElBQU8yQixTQUFTbkMsRUFBVTZCLE1BQU8sRUFBRSxHQUN4REUsRUFBVXJCLFNBQVEsSUFBT3lCLFNBQVNwQyxFQUFXOEIsTUFBTyxFQUFFLEVBQUksR0FDMURFLEVBQVVuQixRQUFPLElBQU91QixTQUFTdkMsRUFBU2lDLE1BQU8sRUFBRSxHQS9CakRlLEVBaUNtRCx1QkFBakMsQ0FBQ2hELEVBQVVHLEVBQVlDLEdBaEMzQ3VELFFBQUEsU0FBQW5CLEdBRUQsSUFBSUEsRUFBa0JBLEVBQUVVLHVCQUN2QlIsRUFBYUssRUFBYUYsbUJBVHpCSCxFQVVLSyxVQUFjSSxJQUFBLE9BQVEsRUFUM0JYLEVBVURJLFVBQWFSLElBQUFBLE9BQVcsRUFDWixRQUFaSSxFQUFPa0IsS0FDUGQsRUFDQUosWUFBYVEsRUFUYixDQUFDLEVBa0NNLENBQUEsSUFFUEwsRUFBVSxFQUNILENBQUEsRUFFVCxFQUVNVSxXQUFhLFNBQUNPLEdBQ0wsVUFBVkEsRUFBRU4sS0FDTDVCLFVBQVMsQ0FFWCxFQUVBOEIsT0FBT0QsaUJBQWlCLFFBQVM3QixTQUFTLEVBQzFDcEIsT0FBT3FELFFBQVEsU0FBQ25CLEdBQUssT0FBS0EsRUFBTWUsaUJBQWlCLFFBQVNGLFVBQVUsQ0FBQyxDQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGF5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF5JylcclxuY29uc3QgbW9udGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb250aCcpXHJcbmNvbnN0IHllYXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN5ZWFyJylcclxuY29uc3Qgc3ViQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1Ym1pdCcpXHJcbmNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JylcclxuXHJcbmNvbnN0IGRheXNTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RheXMnKVxyXG5jb25zdCBtb250aHNTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vbnRocycpXHJcbmNvbnN0IHllYXJzU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN5ZWFycycpXHJcblxyXG4vL291ciBtb250aHMgY2FuIGhhdmUgMzAvMzEvMjkvMjggZGF5c1xyXG5jb25zdCBkYXRlRGlmZiA9IChkYXRlMSwgZGF0ZTIpID0+IHtcclxuXHRjb25zdCB5ZWFycyA9IGRhdGUyLmdldEZ1bGxZZWFyKCkgLSBkYXRlMS5nZXRGdWxsWWVhcigpXHJcblx0Y29uc3QgbW9udGhzID0gZGF0ZTIuZ2V0TW9udGgoKSAtIGRhdGUxLmdldE1vbnRoKClcclxuXHRjb25zdCBkYXlzID0gZGF0ZTIuZ2V0RGF0ZSgpIC0gZGF0ZTEuZ2V0RGF0ZSgpXHJcblxyXG5cdGNvbnN0IGRheXNJbk1vbnRoID0gKHllYXIsIG1vbnRoKSA9PiBuZXcgRGF0ZSh5ZWFyLCBtb250aCArIDEsIDApLmdldERhdGUoKVxyXG5cclxuXHRsZXQgYWRqdXN0ZWRNb250aHMgPSB5ZWFycyAqIDEyICsgbW9udGhzXHJcblx0bGV0IGFkanVzdGVkRGF5cyA9IGRheXNcclxuXHJcblx0aWYgKGRheXMgPCAwKSB7XHJcblx0XHRhZGp1c3RlZE1vbnRocy0tXHJcblx0XHRjb25zdCBwcmV2TW9udGggPSAoZGF0ZTEuZ2V0TW9udGgoKSAtIDEgKyAxMikgJSAxMlxyXG5cdFx0YWRqdXN0ZWREYXlzICs9IGRheXNJbk1vbnRoKGRhdGUxLmdldEZ1bGxZZWFyKCksIHByZXZNb250aClcclxuXHR9XHJcblxyXG5cdGNvbnN0IGFkanVzdGVkWWVhcnMgPSBNYXRoLmZsb29yKGFkanVzdGVkTW9udGhzIC8gMTIpXHJcblx0YWRqdXN0ZWRNb250aHMgJT0gMTJcclxuXHJcblx0cmV0dXJuIHsgeWVhcnM6IGFkanVzdGVkWWVhcnMsIG1vbnRoczogYWRqdXN0ZWRNb250aHMsIGRheXM6IGFkanVzdGVkRGF5cyB9XHJcbn1cclxuXHJcbmNvbnN0IGNvdW50RGF0ZSA9ICgpID0+IHtcclxuXHRjb25zdCBpc0RheVZhbGlkID0gdmFsaWRhdGVJbnB1dChkYXlJbnB1dCwgZGF5SW5wdXQsIG1vbnRoSW5wdXQsIHllYXJJbnB1dClcclxuXHRjb25zdCBpc01vbnRoVmFsaWQgPSB2YWxpZGF0ZUlucHV0KG1vbnRoSW5wdXQsIGRheUlucHV0LCBtb250aElucHV0LCB5ZWFySW5wdXQpXHJcblx0Y29uc3QgaXNZZWFyVmFsaWQgPSB2YWxpZGF0ZUlucHV0KHllYXJJbnB1dCwgZGF5SW5wdXQsIG1vbnRoSW5wdXQsIHllYXJJbnB1dClcclxuXHJcblx0aWYgKCFpc0RheVZhbGlkIHx8ICFpc01vbnRoVmFsaWQgfHwgIWlzWWVhclZhbGlkKSB7XHJcblx0XHRyZXR1cm5cclxuXHR9XHJcblxyXG5cdGNvbnN0IGlucHV0RGF0ZSA9IG5ldyBEYXRlKHllYXJJbnB1dC52YWx1ZSwgbW9udGhJbnB1dC52YWx1ZSAtIDEsIGRheUlucHV0LnZhbHVlKVxyXG5cdGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxyXG5cdGNvbnN0IGRpZmYgPSBkYXRlRGlmZihpbnB1dERhdGUsIGN1cnJlbnREYXRlKVxyXG5cclxuXHRkYXlzU3Bhbi50ZXh0Q29udGVudCA9IGRpZmYuZGF5c1xyXG5cdG1vbnRoc1NwYW4udGV4dENvbnRlbnQgPSBkaWZmLm1vbnRoc1xyXG5cdHllYXJzU3Bhbi50ZXh0Q29udGVudCA9IGRpZmYueWVhcnNcclxufVxyXG5cclxuY29uc3QgdmFsaWRhdGVJbnB1dCA9IChpbnB1dCwgZGF5SW5wdXQsIG1vbnRoSW5wdXQsIHllYXJJbnB1dCkgPT4ge1xyXG5cdGNvbnN0IGVycm9yRWxlbWVudCA9IGlucHV0Lm5leHRFbGVtZW50U2libGluZ1xyXG5cdGNvbnN0IGxhYmVsRWxlbWVudCA9IGlucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmdcclxuXHRjb25zdCBtaW5WYWx1ZSA9IHBhcnNlSW50KGlucHV0LmdldEF0dHJpYnV0ZSgnbWluJyksIDEwKVxyXG5cdGNvbnN0IG1heFZhbHVlID0gcGFyc2VJbnQoaW5wdXQuZ2V0QXR0cmlidXRlKCdtYXgnKSwgMTApXHJcblx0Y29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpXHJcblx0Y29uc3QgaW5wdXREYXRlID0gbmV3IERhdGUoXHJcblx0XHRwYXJzZUludCh5ZWFySW5wdXQudmFsdWUsIDEwKSxcclxuXHRcdHBhcnNlSW50KG1vbnRoSW5wdXQudmFsdWUsIDEwKSAtIDEsXHJcblx0XHRwYXJzZUludChkYXlJbnB1dC52YWx1ZSwgMTApXHJcblx0KVxyXG5cclxuXHRjb25zdCBjbGVhckVycm9yID0gKCkgPT4ge1xyXG5cdFx0bGFiZWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJylcclxuXHRcdGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJylcclxuXHRcdGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnXHJcblx0fVxyXG5cdGNsZWFyRXJyb3IoKVxyXG5cclxuXHRjb25zdCBhZGRFcnJvclRvQWxsSW5wdXRzID0gKGlucHV0cywgZXJyb3JNZXNzYWdlKSA9PiB7XHJcblx0XHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuXHRcdFx0Y29uc3QgbGFiZWxFbGVtZW50ID0gaW5wdXQucHJldmlvdXNFbGVtZW50U2libGluZ1xyXG5cdFx0XHRjb25zdCBlcnJvckVsZW1lbnQgPSBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmdcclxuXHRcdFx0bGFiZWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJylcclxuXHRcdFx0aW5wdXQuY2xhc3NMaXN0LmFkZCgnZXJyb3InKVxyXG5cdFx0XHRpZiAoaW5wdXQuaWQgPT09ICdkYXknKSB7XHJcblx0XHRcdFx0ZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRpZiAoaW5wdXQudmFsdWUgPT09ICcnKSB7XHJcblx0XHRsYWJlbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZXJyb3InKVxyXG5cdFx0aW5wdXQuY2xhc3NMaXN0LmFkZCgnZXJyb3InKVxyXG5cdFx0ZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gYFRoaXMgZmllbGQgaXMgcmVxdWlyZWRgXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9IGVsc2UgaWYgKFxyXG5cdFx0aW5wdXQuaWQgPT09ICd5ZWFyJyAmJlxyXG5cdFx0KHBhcnNlSW50KGlucHV0LnZhbHVlLCAxMCkgPiBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpIHx8XHJcblx0XHRcdChwYXJzZUludChpbnB1dC52YWx1ZSwgMTApID09PSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpICYmXHJcblx0XHRcdFx0KHBhcnNlSW50KG1vbnRoSW5wdXQudmFsdWUsIDEwKSA+IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxIHx8XHJcblx0XHRcdFx0XHQocGFyc2VJbnQobW9udGhJbnB1dC52YWx1ZSwgMTApID09PSBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSAmJlxyXG5cdFx0XHRcdFx0XHRwYXJzZUludChkYXlJbnB1dC52YWx1ZSwgMTApID4gY3VycmVudERhdGUuZ2V0RGF0ZSgpKSkpKVxyXG5cdCkge1xyXG5cdFx0bGFiZWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJylcclxuXHRcdGlucHV0LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJylcclxuXHRcdGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGBNdXN0IGJlIGluIHRoZSBwYXN0YFxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fSBlbHNlIGlmIChcclxuXHRcdChtaW5WYWx1ZSAhPT0gbnVsbCAmJiBwYXJzZUludChpbnB1dC52YWx1ZSwgMTApIDwgbWluVmFsdWUpIHx8XHJcblx0XHQobWF4VmFsdWUgIT09IG51bGwgJiYgcGFyc2VJbnQoaW5wdXQudmFsdWUsIDEwKSA+IG1heFZhbHVlKVxyXG5cdCkge1xyXG5cdFx0bGFiZWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJylcclxuXHRcdGlucHV0LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJylcclxuXHRcdGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGBNdXN0IGJlIGEgdmFsaWQgJHtpbnB1dC5pZH1gXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9IGVsc2UgaWYgKFxyXG5cdFx0aW5wdXREYXRlLmdldEZ1bGxZZWFyKCkgIT09IHBhcnNlSW50KHllYXJJbnB1dC52YWx1ZSwgMTApIHx8XHJcblx0XHRpbnB1dERhdGUuZ2V0TW9udGgoKSAhPT0gcGFyc2VJbnQobW9udGhJbnB1dC52YWx1ZSwgMTApIC0gMSB8fFxyXG5cdFx0aW5wdXREYXRlLmdldERhdGUoKSAhPT0gcGFyc2VJbnQoZGF5SW5wdXQudmFsdWUsIDEwKVxyXG5cdCkge1xyXG5cdFx0YWRkRXJyb3JUb0FsbElucHV0cyhbZGF5SW5wdXQsIG1vbnRoSW5wdXQsIHllYXJJbnB1dF0sIGBNdXN0IGJlIGEgdmFsaWQgZGF0ZWApXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2xlYXJFcnJvcigpXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgZW50ZXJDaGVjayA9IChlKSA9PiB7XHJcblx0aWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcblx0XHRjb3VudERhdGUoKVxyXG5cdH1cclxufVxyXG5cclxuc3ViQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY291bnREYXRlKVxyXG5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZW50ZXJDaGVjaykpXHJcbiJdfQ==
